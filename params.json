{"name":"jQuery.formKeeper","tagline":"用于保存客户表单防止刷新的jQuery插件","body":"# FormKeeper [![Build Status](https://travis-ci.org/Illvili/jQuery.formKeeper.svg?branch=master)](https://travis-ci.org/Illvili/jQuery.formKeeper) [![Code Climate](https://codeclimate.com/github/Illvili/jQuery.formKeeper/badges/gpa.svg)](https://codeclimate.com/github/Illvili/jQuery.formKeeper)\r\n随时随地保存表单数据\r\n\r\n## 使用方法\r\n\r\n1. 引用 `jQuery`\r\n\r\n\t```html\r\n\t<script src=\"http://code.jquery.com/jquery-2.1.4.min.js\"></script>\r\n\t```\r\n\r\n2. 引用 `FormKeeper`\r\n\r\n\t```html\r\n\t<script src=\"dist/jquery.formkeeper.min.js\"></script>\r\n\t```\r\n\r\n3. 调用函数\r\n\r\n\t```JavaScript\r\n\t$('#form').formKeeper();\r\n\t```\r\n\r\n## 同页面多个表单\r\n\r\n默认使用当前页面URL的`pathname`转换出表单ID\r\n\r\n但可通过指定`data-formid`或`options`中的`formId`来指定表单ID\r\n\r\n`/demo/demo.html`将转换为`_demo_demo.html`\r\n\r\n## 插件选项\r\n\r\n```JavaScript\r\ndefaultOptions = {\r\n\trestoreAtInit: true,\r\n\tbackupAtLeave: true,\r\n\tclearOnSubmit: false,\r\n\r\n\tbackupForm: $.fn.formKeeper.backupForm,\r\n\trestoreForm: $.fn.formKeeper.restoreForm,\r\n\r\n\tbackupData: $.fn.formKeeper.backupData,\r\n\trestoreData: $.fn.formKeeper.restoreData,\r\n\tclearData: $.fn.formKeeper.clearData\r\n}\r\n```\r\n\r\n参数 | 类型 | 说明\r\n-----|------|-----\r\nformId | `string` | 表单ID，默认值：`undefined` 使用URL来自动生成\r\nrestoreAtInit | `boolean` | 初始化插件时自动恢复数据，默认值：`true`\r\nbackupAtLeave | `boolean` | 离开页面时自动备份数据，默认值：`true`\r\nclearOnSubmit | `boolean` | 在提交表单后自动清数据，默认值：`false`\r\nbackupForm | `function` | 提取表单数据\r\nrestoreForm | `function` | 还原表单数据\r\nbackupData | `function` | 备份数据\r\nrestoreData | `function` | 还原数据\r\nclearData | `function` | 清除数据\r\n\r\n## 方法\r\n\r\n* destroy\r\n\t卸载插件，并清除事件绑定\r\n\t```Javascript\r\n\t$('#form').formKeeper('destroy');\r\n\t```\r\n\r\n* backup\r\n\t备份表单数据\r\n\t```Javascript\r\n\t$('#form').formKeeper('backup');\r\n\t```\r\n\r\n* restore\r\n\t还原表单数据\r\n\t```Javascript\r\n\t$('#form').formKeeper('restore');\r\n\t```\r\n\r\n* clear\r\n\t清除表单数据\r\n\t```Javascript\r\n\t$('#form').formKeeper('clear');\r\n\t```\r\n\r\n\r\n## 提取/还原表单数据\r\n\r\n插件默认将在：\r\n* 如果设定`restoreAtInit`：离开页面时提取表单数据\r\n* 如果设定`backupAtLeave`：初始化插件时还原表单数据\r\n\r\n如果需要保存自定义数据，可以传递给`options`\r\n\r\n* backupForm\r\n\r\n\t```JavaScript\r\n\tfunction backupForm(form) {\r\n\t\t// deal with form and fetch data\r\n\t\treturn data;\r\n\t}\r\n\t```\r\n\r\n* restoreForm\r\n\r\n\t```JavaScript\r\n\tfunction restoreForm(form, data) {\r\n\t\t// restore form with data\r\n\t}\r\n\t```\r\n\r\n## 备份/还原/清除数据\r\n\r\n插件默认使用`localStorage`来保存数据\r\n\r\n如果需要自定义保存方式，可以传递给`options`\r\n\r\n* backupData\r\n\r\n\t```JavaScript\r\n\tfunction backupData(formId, data) {\r\n\t\t// save data to some place\r\n\t}\r\n\t```\r\n\r\n* restoreData\r\n\r\n\t```JavaScript\r\n\tfunction restoreData(formId) {\r\n\t\t// get data\r\n\t\treturn data;\r\n\t}\r\n\t```\r\n\r\n* clearData\r\n\r\n\t```JavaScript\r\n\tfunction clearData(formId) {\r\n\t\t// clear data\r\n\t}\r\n\t```\r\n\r\n## 测试\r\n\r\n```\r\nnpm install\r\ngrunt travis\r\n```\r\n\r\n将会运行函数测试\r\n\r\n## 其它\r\n\r\n整个项目基于[jquery-boilerplate](https://github.com/jquery-boilerplate/jquery-boilerplate)\r\n\r\n## 更新\r\n\r\n* v 1.1.0\r\n\r\n\t* 更改`$.fn.formKeeper.backupForm`和`$.fn.formKeeper.restoreForm`保存数据格式 **无法兼容前一版本数据**\r\n\r\n* v 1.0.0\r\n\r\n\t初始版本\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}